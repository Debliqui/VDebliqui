import traduction from"../data/traduction.js";const toggleTheme=document.querySelector("[data-theme-toggle]"),themeLabel=document.querySelector("[data-theme-label]"),themeIcon=document.querySelector("[data-theme-icon]"),localStorageTheme=localStorage.getItem("theme"),systemSettingDark=window.matchMedia("(prefers-color-scheme: dark)"),backgroundBannerSrc=document.querySelector("[data-background-src]"),backgroundBannerSrcset=document.querySelector("[data-background-srcset]");function calculateSettingAsThemeString(e,t){return e||(t.matches?"dark":"light")}let currentThemeSetting=calculateSettingAsThemeString(localStorageTheme,systemSettingDark);function applyTheme(e,t){if(localStorage.setItem("theme",e),themeLabel&&themeIcon){const a=traduction[t]?.["dark"===e?"themeDarkLabel":"themeLightLabel"]||"ThÃ¨me inconnu";themeLabel.textContent=a,themeIcon.setAttribute("class","dark"===e?"fa-solid fa-moon":"fa-solid fa-sun"),themeIcon.setAttribute("data-theme-icon","dark"===e?"moon":"sun")}if(document.querySelector("html").setAttribute("data-theme",e),backgroundBannerSrc&&backgroundBannerSrcset){const t="dark"===e?"background-dark":"background-light";backgroundBannerSrc.setAttribute("src",`./assets/image/${t}-366.webp`),backgroundBannerSrcset.setAttribute("srcset",`\n      ./assets/image/${t}-366.webp 399w,\n      ./assets/image/${t}-735.webp 767w,\n      ./assets/image/${t}-975.webp 1023w,\n      ./assets/image/${t}-1280.webp 1439w\n    `)}currentThemeSetting=e}document.addEventListener("DOMContentLoaded",(()=>{const e=document.documentElement.lang||"fr";applyTheme(currentThemeSetting,e)})),toggleTheme&&toggleTheme.addEventListener("click",(()=>{applyTheme("dark"===currentThemeSetting?"light":"dark",document.documentElement.lang||"fr")})),systemSettingDark.addEventListener("change",(e=>{applyTheme(e.matches?"dark":"light",document.documentElement.lang||"fr")}));